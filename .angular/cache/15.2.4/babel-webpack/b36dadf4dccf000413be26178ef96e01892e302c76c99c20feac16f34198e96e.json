{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet SearchComponent = class SearchComponent {\n  constructor(route, servizioProva) {\n    this.route = route;\n    this.servizioProva = servizioProva;\n    this.pokemonName = \"\";\n    this.searchError = false;\n    this.pokemonImageUrl = \"\";\n    this.pokemonStats = {\n      speed: 0,\n      special_defense: 0,\n      special_attack: 0,\n      attack: 0,\n      hp: 0\n    };\n    this.pokemonFound = false;\n  }\n  ngOnInit() {\n    this.route.queryParams.subscribe(params => {\n      this.resetSearch();\n      this.pokemonName = params['name'];\n      if (this.pokemonName) {\n        this.searchPokemon(this.pokemonName);\n      }\n    });\n  }\n  resetSearch() {\n    this.pokemonName = \"\";\n    this.searchError = false;\n    this.pokemonImageUrl = \"assets/pokeball.png\";\n    this.pokemonStats = {\n      speed: 0,\n      special_defense: 0,\n      special_attack: 0,\n      attack: 0,\n      hp: 0\n    };\n    this.pokemonFound = false;\n  }\n  searchPokemon(name) {\n    // Reset delle variabili\n    this.resetSearch();\n    this.servizioProva.getPokemonByName(name.trim().toLowerCase()).subscribe({\n      next: data => {\n        console.log(data);\n        this.searchError = false;\n        this.pokemonStats = {\n          speed: this.getStatByName(data, 'speed'),\n          special_defense: this.getStatByName(data, 'special-defense'),\n          special_attack: this.getStatByName(data, 'special-attack'),\n          attack: this.getStatByName(data, 'attack'),\n          hp: this.getStatByName(data, 'hp')\n        };\n        this.pokemonName = data.name;\n        this.pokemonImageUrl = data.sprites.front_default || \"assets/pokeball.png\";\n        this.pokemonFound = true;\n      },\n      error: error => {\n        console.log(error);\n        this.searchError = true;\n      }\n    });\n  }\n  getStatByName(pokemonData, statName) {\n    const stat = pokemonData.stats.find(stat => stat.stat.name === statName);\n    return stat.base_stat;\n  }\n};\nSearchComponent = __decorate([Component({\n  selector: 'app-search',\n  templateUrl: './search.component.html',\n  styleUrls: ['./search.component.css']\n})], SearchComponent);\nexport { SearchComponent };","map":{"version":3,"mappings":"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","names":["Component","SearchComponent","constructor","route","servizioProva","speed","special_defense","special_attack","attack","hp","ngOnInit","queryParams","subscribe","params","resetSearch","pokemonName","searchPokemon","searchError","pokemonImageUrl","pokemonStats","pokemonFound","name","getPokemonByName","trim","toLowerCase","next","data","console","log","getStatByName","sprites","front_default","error","pokemonData","statName","stat","stats","find","base_stat","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Users\\mugis\\Desktop\\VS CODE\\Angular\\pokedex\\projectPoke2\\src\\app\\components\\search\\search.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { PokeapiService } from 'src/app/service/pokemon.service';\nimport { ActivatedRoute } from '@angular/router';\n\n@Component({\n  selector: 'app-search',\n  templateUrl: './search.component.html',\n  styleUrls: ['./search.component.css']\n})\nexport class SearchComponent implements OnInit {\n  \n  pokemonName = \"\";\n  searchError = false;\n  pokemonImageUrl = \"\";\n  pokemonStats: any = {\n    speed: 0,\n    special_defense: 0,\n    special_attack: 0,\n    attack: 0,\n    hp: 0\n  };\n  pokemonFound = false;\n\n  constructor(private route: ActivatedRoute, private servizioProva: PokeapiService){};\n  \n  ngOnInit(): void {\n    this.route.queryParams.subscribe(params => {\n      this.resetSearch();\n      this.pokemonName = params['name'];\n      if (this.pokemonName) {\n        this.searchPokemon(this.pokemonName);\n      }\n    });\n  }\n\n  resetSearch(): void {\n    this.pokemonName = \"\";\n    this.searchError = false;\n    this.pokemonImageUrl = \"assets/pokeball.png\";\n    this.pokemonStats = {\n      speed: 0,\n      special_defense: 0,\n      special_attack: 0,\n      attack: 0,\n      hp: 0\n    };\n    this.pokemonFound = false;\n  }\n\n  searchPokemon(name: string) {\n    // Reset delle variabili\n    this.resetSearch();\n    \n    this.servizioProva.getPokemonByName(name.trim().toLowerCase()).subscribe({\n      next: data => {\n        console.log(data);\n        this.searchError = false;\n        this.pokemonStats = {\n          speed: this.getStatByName(data, 'speed'),\n          special_defense: this.getStatByName(data, 'special-defense'),\n          special_attack: this.getStatByName(data, 'special-attack'),\n          attack: this.getStatByName(data, 'attack'),\n          hp: this.getStatByName(data, 'hp')\n        };\n        this.pokemonName = data.name;\n        this.pokemonImageUrl = data.sprites.front_default || \"assets/pokeball.png\";\n        this.pokemonFound = true;\n      },\n      error: error => {\n        console.log(error);\n        this.searchError = true;\n      }\n    });\n  }\n\n  private getStatByName(pokemonData: any, statName: string): number {\n    const stat = pokemonData.stats.find((stat: any) => stat.stat.name === statName);\n    return stat.base_stat;\n  }\n}\n\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}