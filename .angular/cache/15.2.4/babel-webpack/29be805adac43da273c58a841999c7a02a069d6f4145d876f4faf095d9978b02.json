{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet SearchComponent = class SearchComponent {\n  constructor(route, servizioProva) {\n    this.route = route;\n    this.servizioProva = servizioProva;\n    this.pokemonName = \"\";\n    this.searchError = false;\n    this.pokemonImageUrl = \"\";\n    this.pokemonStats = {\n      speed: 0,\n      special_defense: 0,\n      special_attack: 0,\n      attack: 0,\n      hp: 0\n    };\n  }\n  ngOnInit() {\n    this.route.queryParams.subscribe(params => {\n      this.pokemonName = params['name'];\n    });\n  }\n  searchPokemon(name) {\n    // Reset delle variabili\n    this.pokemonImageUrl = \"assets/pokeball.png\";\n    this.pokemonStats = null;\n    this.servizioProva.getPokemonByName(name.trim().toLowerCase()).subscribe({\n      next: data => {\n        console.log(data);\n        this.searchError = false;\n        this.pokemonStats = {\n          speed: this.getStatByName(data, 'speed'),\n          special_defense: this.getStatByName(data, 'special-defense'),\n          special_attack: this.getStatByName(data, 'special-attack'),\n          attack: this.getStatByName(data, 'attack'),\n          hp: this.getStatByName(data, 'hp')\n        };\n        this.pokemonName = data.name;\n        this.pokemonImageUrl = data.sprites.front_default || \"assets/pokeball.png\";\n      },\n      error: error => {\n        console.log(error);\n        this.searchError = true;\n      }\n    });\n  }\n  getStatByName(pokemonData, statName) {\n    const stat = pokemonData.stats.find(stat => stat.stat.name === statName);\n    return stat.base_stat;\n  }\n};\nSearchComponent = __decorate([Component({\n  selector: 'app-search',\n  templateUrl: './search.component.html',\n  styleUrls: ['./search.component.css']\n})], SearchComponent);\nexport { SearchComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AAS1C,IAAMC,eAAe,GAArB,MAAMA,eAAe;EAa1BC,YAAoBC,KAAqB,EAAUC,aAA6B;IAA5D,UAAK,GAALD,KAAK;IAA0B,kBAAa,GAAbC,aAAa;IAXhE,gBAAW,GAAE,EAAE;IACf,gBAAW,GAAG,KAAK;IACnB,oBAAe,GAAE,EAAE;IACnB,iBAAY,GAAQ;MAClBC,KAAK,EAAE,CAAC;MACRC,eAAe,EAAE,CAAC;MAClBC,cAAc,EAAE,CAAC;MACjBC,MAAM,EAAE,CAAC;MACTC,EAAE,EAAE;KACL;EAEiF;EAElFC,QAAQ;IACN,IAAI,CAACP,KAAK,CAACQ,WAAW,CAACC,SAAS,CAACC,MAAM,IAAG;MACxC,IAAI,CAACC,WAAW,GAAGD,MAAM,CAAC,MAAM,CAAC;IACnC,CAAC,CAAC;EACJ;EAEAE,aAAa,CAACC,IAAY;IACxB;IACA,IAAI,CAACC,eAAe,GAAG,qBAAqB;IAC5C,IAAI,CAACC,YAAY,GAAG,IAAI;IAExB,IAAI,CAACd,aAAa,CAACe,gBAAgB,CAACH,IAAI,CAACI,IAAI,EAAE,CAACC,WAAW,EAAE,CAAC,CAACT,SAAS,CAAC;MACvEU,IAAI,EAAEC,IAAI,IAAG;QACXC,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC;QACjB,IAAI,CAACG,WAAW,GAAG,KAAK;QACxB,IAAI,CAACR,YAAY,GAAG;UAClBb,KAAK,EAAE,IAAI,CAACsB,aAAa,CAACJ,IAAI,EAAE,OAAO,CAAC;UACxCjB,eAAe,EAAE,IAAI,CAACqB,aAAa,CAACJ,IAAI,EAAE,iBAAiB,CAAC;UAC5DhB,cAAc,EAAE,IAAI,CAACoB,aAAa,CAACJ,IAAI,EAAE,gBAAgB,CAAC;UAC1Df,MAAM,EAAE,IAAI,CAACmB,aAAa,CAACJ,IAAI,EAAE,QAAQ,CAAC;UAC1Cd,EAAE,EAAE,IAAI,CAACkB,aAAa,CAACJ,IAAI,EAAE,IAAI;SAClC;QACD,IAAI,CAACT,WAAW,GAAGS,IAAI,CAACP,IAAI;QAC5B,IAAI,CAACC,eAAe,GAAGM,IAAI,CAACK,OAAO,CAACC,aAAa,IAAI,qBAAqB;MAC5E,CAAC;MACDC,KAAK,EAAEA,KAAK,IAAG;QACbN,OAAO,CAACC,GAAG,CAACK,KAAK,CAAC;QAClB,IAAI,CAACJ,WAAW,GAAG,IAAI;MACzB;KACD,CAAC;EACJ;EAEQC,aAAa,CAACI,WAAgB,EAAEC,QAAgB;IACtD,MAAMC,IAAI,GAAGF,WAAW,CAACG,KAAK,CAACC,IAAI,CAAEF,IAAS,IAAKA,IAAI,CAACA,IAAI,CAACjB,IAAI,KAAKgB,QAAQ,CAAC;IAC/E,OAAOC,IAAI,CAACG,SAAS;EACvB;CACD;AAnDYnC,eAAe,eAL3BD,SAAS,CAAC;EACTqC,QAAQ,EAAE,YAAY;EACtBC,WAAW,EAAE,yBAAyB;EACtCC,SAAS,EAAE,CAAC,wBAAwB;CACrC,CAAC,GACWtC,eAAe,CAmD3B;SAnDYA,eAAe","names":["Component","SearchComponent","constructor","route","servizioProva","speed","special_defense","special_attack","attack","hp","ngOnInit","queryParams","subscribe","params","pokemonName","searchPokemon","name","pokemonImageUrl","pokemonStats","getPokemonByName","trim","toLowerCase","next","data","console","log","searchError","getStatByName","sprites","front_default","error","pokemonData","statName","stat","stats","find","base_stat","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Users\\mugis\\Desktop\\VS CODE\\Angular\\pokedex\\projectPoke2\\src\\app\\components\\search\\search.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { PokeapiService } from 'src/app/service/pokemon.service';\nimport { ActivatedRoute } from '@angular/router';\n\n@Component({\n  selector: 'app-search',\n  templateUrl: './search.component.html',\n  styleUrls: ['./search.component.css']\n})\nexport class SearchComponent implements OnInit {\n  \n  pokemonName= \"\";\n  searchError = false;\n  pokemonImageUrl= \"\";\n  pokemonStats: any = {\n    speed: 0,\n    special_defense: 0,\n    special_attack: 0,\n    attack: 0,\n    hp: 0\n  };\n\n  constructor(private route: ActivatedRoute, private servizioProva: PokeapiService){};\n  \n  ngOnInit(): void {\n    this.route.queryParams.subscribe(params => {\n      this.pokemonName = params['name'];\n    });\n  }\n\n  searchPokemon(name: string) {\n    // Reset delle variabili\n    this.pokemonImageUrl = \"assets/pokeball.png\";\n    this.pokemonStats = null;\n    \n    this.servizioProva.getPokemonByName(name.trim().toLowerCase()).subscribe({\n      next: data => {\n        console.log(data);\n        this.searchError = false;\n        this.pokemonStats = {\n          speed: this.getStatByName(data, 'speed'),\n          special_defense: this.getStatByName(data, 'special-defense'),\n          special_attack: this.getStatByName(data, 'special-attack'),\n          attack: this.getStatByName(data, 'attack'),\n          hp: this.getStatByName(data, 'hp')\n        };\n        this.pokemonName = data.name;\n        this.pokemonImageUrl = data.sprites.front_default || \"assets/pokeball.png\";\n      },\n      error: error => {\n        console.log(error);\n        this.searchError = true;\n      }\n    });\n  }\n\n  private getStatByName(pokemonData: any, statName: string): number {\n    const stat = pokemonData.stats.find((stat: any) => stat.stat.name === statName);\n    return stat.base_stat;\n  }\n}\n\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}